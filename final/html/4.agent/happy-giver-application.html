<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: "Gowun Dodum", sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f3f4f6; /* 부드러운 배경색 */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h2 {
            color: #31708f; /* 제목 색상 */
            margin-bottom: 20px;
        }

        .form-container, .output-container {
            width: 90%;
            max-width: 800px; /* 최대 너비 제한 */
            margin: 20px 0;
            padding: 20px;
            background: white; /* 카드 같은 느낌 */
            border-radius: 10px; /* 둥근 모서리 */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); /* 그림자 효과 */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th {
            background-color: #e0f7fa; /* 테이블 헤더 색상 */
            color: #31708f;
            text-align: center;
            font-size: 12pt;
            border-bottom: 1px solid #31708f; /* 아래 테두리 */
            border-top: 1px solid #31708f; /* 아래 테두리 */
        }

        td {
            padding: 0px;
            text-align: center;
            border: 1px solid #cfd8dc; /* 테두리 색상 */
            border-bottom: 1px solid #31708f; /* 아래 테두리 */
            border-top: 1px solid #31708f; /* 아래 테두리 */
        }

        input, textarea, select {
            font-family: "Gowun Dodum", sans-serif;
            width: calc(100% - 20px);
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #cfd8dc; /* 입력 필드 테두리 */
            border-radius: 5px; /* 둥근 모서리 */
            font-size: 10pt;
            transition: border-color 0.3s;
        
        }input, textarea{
            border: none;
        }

        input:focus, textarea:focus, select:focus {
            border-color: #31708f; /* 포커스 시 테두리 색상 변화 */
            outline: none; /* 기본 아웃라인 제거 */
        }

        button {
            background-color: #31708f; /* 버튼 색상 */
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 14pt;
            margin: 10px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #24576b; /* 호버 시 색상 변화 */
        }
        select{
            width: 45%;
            margin: 10px;
        }

        .more {
            background-color: #e0f7fa; /* 행 추가 버튼 색상 */
            color: gray;
            margin: 10px auto;
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            font-size: 10pt;
            color: black;
        }

        .more:hover {
            background-color: #b2ebf2; /* 호버 시 색상 변화 */
        }

        .input-area {
            text-align: center; /* 테이블 가운데 정렬 */
        }
        #data-table {
            width: 800px; 
            font-size: 10pt;           
            text-align: center;
        }
        #data-table td:nth-child(1) { /* 순번 */
            width: 8%;            
        }
        #data-table td:nth-child(2) { /* 구분 */
            width: 10%; 
        }
        #data-table td:nth-child(3) { /* 품목 */
            width: 19%; 
        }
        #data-table td:nth-child(4) { /* 수량 */
            width: 9%;
        }
        #data-table td:nth-child(5) { /* 단위 */
            width: 8%;
        }
        #data-table td:nth-child(6) { /* 단가 */
            width: 16%;
        }
        #data-table td:nth-child(7) { /* 금액 */
            width: 18%;
        }
        #data-table td:nth-child(8) { /* 비고 */
            width: 10%; 
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h2>행복나르미 신청하기</h2>
        <form>
            <table>
                <tr>
                    <th>신청자명</th>
                    <td><input type="text" name="Name" placeholder="이름을 입력하세요" required></td>
                </tr>
                <tr>
                    <th>이메일</th>
                    <td><input type="email" name="Email" placeholder="이메일을 입력하세요" required></td>
                </tr>
                <tr>
                    <th>활동지역</th>
                    <td style="display: flex; border: 0;">
                        <select id="city" onchange="updateDistricts()">
                            <option value="">선택하세요</option>
                            <option value="천안">천안</option>
                            <option value="아산">아산</option>
                        </select>
                        <select id="district" required>
                            <option value="">선택하세요</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>기관명</th>
                    <td><input type="text" placeholder="기관명을 입력하세요" required></td>
                </tr>
                <tr>
                    <th>활동 제목</th>
                    <td><input type="text" placeholder="제목을 입력하세요" class="long" required></td>
                </tr>
                <tr>
                    <th>펀딩목표금액</th>
                    <td><input type="text" maxlength="10" onkeyup="inputNumberFormat(this);" placeholder="금액을 입력하세요" required></td>
                </tr>
                <tr>
                    <th>자기소개</th>
                    <td><textarea maxlength="500" placeholder="500자 내로 간단히 입력해주세요" required></textarea></td>
                </tr>
                <tr>
                    <th>프로필 사진</th>
                    <td><input type="file"></td>
                </tr>
            </table>
        </form>
    </div>

    <div class="output-container">
        <h2>산출내역</h2>
        <div class="input-area">
            <table id="data-table">
                <tr>
                    <th>순번</th>
                    <th>구분</th>
                    <th>품목</th>
                    <th>수량</th>
                    <th>단위</th>
                    <th>단가</th>
                    <th>금액</th>
                    <th>비고</th>                                 
                </tr>
                <tr>
                    <td><input type="number" style="border:0;"></td>
                    <td><input type="text" style="border:0;"></td>
                    <td><input type="text" style="border:0;"></td>
                    <td><input type="number" style="border:0;"></td>
                    <td><input type="text" style="border:0;"></td>
                    <td><input type="number" style="border:0;"></td>
                    <td><input type="number" style="border:0;"></td>
                    <td><input type="text" maxlength="10" style="border:0;"></td>
                </tr>
            </table>
            <button id="add-row" class="more">+ 행 추가</button>
        </div>
    </div>

    <div style="text-align: center;">
        <button type="submit" onclick="regist();" class="submit">신청하기</button>
        <button type="button" onclick="window.close();" class="cancle">취소</button>
    </div>

    <script>
        function updateDistricts() {
            const citySelect = document.getElementById("city");
            const districtSelect = document.getElementById("district");

            const districts = {
                "천안": ["선택하세요", "서북구","동남구"],
                "아산": ["선택하세요", "탕정면", "배방읍","음봉면"]
            };

            const selectedCity = citySelect.value;
            districtSelect.innerHTML = '';

            if (selectedCity in districts) {
                districts[selectedCity].forEach(function(district) {
                    const option = document.createElement("option");
                    option.value = district;
                    option.textContent = district;
                    districtSelect.appendChild(option);
                });
            }
        }

        function comma(str) {
            str = String(str);
            return str.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');
        }

        function uncomma(str) {
            str = String(str);
            return str.replace(/[^\d]+/g, '');
        } 
        
        function inputNumberFormat(obj) {
            obj.value = comma(uncomma(obj.value));
        }

        document.getElementById('add-row').addEventListener('click', function(event) {
            event.preventDefault();

            const table = document.getElementById('data-table');
            const newRow = table.insertRow(); 

            const cell1 = newRow.insertCell(0); 
            const cell2 = newRow.insertCell(1); 
            const cell3 = newRow.insertCell(2); 
            const cell4 = newRow.insertCell(3); 
            const cell5 = newRow.insertCell(4); 
            const cell6 = newRow.insertCell(5); 
            const cell7 = newRow.insertCell(6); 
            const cell8 = newRow.insertCell(7); 

            cell1.innerHTML = '<input type="number" style="border:0;">';
            cell2.innerHTML = '<input type="text" style="border:0;">';
            cell3.innerHTML = '<input type="text" style="border:0;">';
            cell4.innerHTML = '<input type="number" style="border:0;">';
            cell5.innerHTML = '<input type="text" style="border:0;">';
            cell6.innerHTML = '<input type="number" style="border:0;">';
            cell7.innerHTML = '<input type="number" style="border:0;">';
            cell8.innerHTML = '<input type="text" maxlength="10" style="border:0;">';
        });

        function regist() {
            if (confirm("제출하시겠습니까?") == true) {
                alert("제출되었습니다.");
                window.close();
            } else {
                return;
            }
        }
    </script>
</body>
</html>
