<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>3조_안다미로</title>       
        <link rel="stylesheet" href="../../css/kind-gift-detail.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <style>
        @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap');
        #gift_product_sample{
            width: 300px;  /* 원하는 너비 */  
        }
        #gift_product_sample_detail{
            width: 600px;
        }
        </style>
    </head>
    <body>
        <!-- 헤더 -->
        <header id="navbar"></header>

        <div class="ctn"> 
            <div class="item1">
                <h4 id="gift_maker"></h4>
                <h2 id="gift_product_name"></h2>
                <img id="gift_product_sample" src=""> 
                <h4>리워드 선택</h4>
            <div class="rs">    
                <button class="button inactive" id="button1">리워드1<br>마일리지10%</button>
                <button class="button inactive" id="button2">리워드2<br>후원 감사카드</button>
            </div>
            </div>
            <div class="item2"> 
            <h4>후원 정보</h4>
            <p class="info"><i class="fa-solid fa-circle-info"><p class="arrow_box">후원금액은<br>
                3000원,5000원 중<br>
                선택하여 후원이 <br>
                가능합니다.</p></i></p>
            <h2><span id="gift_funding_achievement"></span>원 후원중</h4>
                <br>
                <p class="p1">달성률 <span id="gift_funding_progress"></span>    /  목표 금액 <span id="gift_target_amount"></span></p>
                <br>
                <p class="p1">참여인원: <span id="gift_head_count"></span></p>
                <br>
                <button class="bigbtn" onclick="goPayment()">후원하기</button>
                <br>
                <br>
                <button class="like" id="incrementBtn"><img src="../../img/heart.png" alt="" width="30px"></button>
                <span id="number" style="padding-right: 30px;">0</span>
                <button class="btn" id="modalBtn">공유하기</button>
            </div>
        </div>

            <!-- 공유하기 창-->
            <div id="myModal" class="modal">
                <div class="modal-content">
                    <span class="close" id="closeBtn">&times;</span><br>
                    <h3>공유하기</h3><br>
                    <p>이 후원을 널리 알려주세요~!</p><br>
                    <div class="share">
                            <img src="../../img/icon/페이스북.png" class="icons" onclick="shareFacebook()"> 
                            <img src="../../img/icon/네이버밴드.png" class="icons" onclick="shareBand()"> 
                            <img src="../../img/icon/트위터.PNG" class="icons" onclick="shareTwitter()"> 
                            <img src="../../img/icon/카카오톡.PNG" class="icons" onclick="shareKakao()"> 
                    </div>
                </div>
            </div>
            <br><br>


            <!-- 하단 탭메뉴 -->
            <div class="tabmenu">
                <ul>
                    <li id="tab1" class="btnCon"> 
                        <input type="radio" checked name="tabmenu" id="tabmenu1" style="display: none;">
                        <label for="tabmenu1">상품상세</label>
                        <div class="tabCon">
                            <img style="text-align: center;" src="" id="gift_product_sample_detail">
                        </div>
                    </li>
                    <li id="tab2" class="btnCon">
                        <input type="radio" name="tabmenu" id="tabmenu2" style="display: none;">
                        <label for="tabmenu2">리워드 안내</label>
                        <div class="tabCon">
                            <div class="container">
                                <img src="../../img/선물.jpg" alt="선물 이미지" class="secondImg">
                                <div class="explainArea" style="text-align: left;">
                                    <h2>리워드 안내</h2>
                                    <span>후원을 해주시는 분들께 감사의 의미로 리워드를 드립니다.</span><br>
                                    <span>아래 두 종류 중 하나를 선택하실 수 있습니다.</span><br>
                                    <div class="reward">
                                        <img src="../../img/icon1.png">
                                        <div>
                                            <span style="font-weight: bold;">리워드1. 마일리지</span><br>
                                            <span>마일리지를 10% 적립해 드립니다.</span>
                                        </div>
                                    </div>
                                    <div class="reward">
                                        <img src="../../img/icon2.png">
                                        <div>
                                            <span style="font-weight: bold;">리워드2. 감사카드</span><br>
                                            <span>봉사기관의 감사카드를 받으실 수 있습니다.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>    
                    <li id="tab3" class="btnCon">
                        <input type="radio" name="tabmenu" id="tabmenu3" style="display: none;">
                        <label for="tabmenu3">댓글</label>
                        <div class="tabCon">
                            <div>
                                <div class="comments">
                                </div>
                                <form onsubmit="addComment(event)">
                                  <input type="text" placeholder="댓글을 입력하세요" style="width:300px" maxlength="20" required >
                                  <button type="submit">등록하기</button>
                                </form>
                        
                            </div>
                        </div>
                    </li>
                </ul>
            </div>

            <!-- 푸터 -->
          
        
            <script>
                fetch("../1.navbar/header_NoLogin.html")
                .then(response => response.text())
                .then(data => {
                    const navbar = document.getElementById('navbar');
                    navbar.innerHTML = data;
                    const header = navbar.querySelector('header');
                    
                });
            </script>

            <script src="../../script/data.js"></script>
            <script src="../../script/kind-gift-detail.js"></script>
            <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js"
            integrity="sha384-TiCUE00h649CAMonG018J2ujOgDKW/kVWlChEuu4jK2vxfAAD0eZxzCKakxg55G4" crossorigin="anonymous"></script>
            <script>
                Kakao.init('kakao'); // 사용하려는 앱의 JavaScript 키 입력
            </script>
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const selectedGiftId = parseInt(localStorage.getItem('selectedGiftId'), 10);
                    const gift = Gift.find(item => item.id === selectedGiftId);
                    console.log('Selected Gift ID:', selectedGiftId);
                    console.log('Gift Data:', gift);

                    if (gift) { 
                        showGiftMaker(gift.G_Maker);
                        showGiftProductName(gift.G_Product_Name);
                        showGiftProductSample(gift.G_Product_Sample);
                        showGiftProductSampleDetail(gift.G_Product_Sample_detail);
                        showGiftTargetAmount(gift.G_Target_amount);
                        showGiftFundingAchievement(gift.G_funding_achievement);
                        showGiftFundingProgress(gift.G_funding_progress);
                        showGiftHeadCount(gift.G_head_count);
    
                    } else {
                        console.error('오류');
                    }
                });
            
                function showGiftMaker(G_Maker) {
                    const element = document.getElementById('gift_maker');
                    element.textContent = G_Maker;
                }

                function showGiftProductName(G_Product_Name) {
                    const element = document.getElementById('gift_product_name');
                    element.textContent = G_Product_Name;
                }

                function showGiftProductSample(G_Product_Sample) {
                    const element = document.getElementById('gift_product_sample');
                    element.src = G_Product_Sample;
                }

                function showGiftProductSampleDetail(G_Product_Sample_detail) {
                    const element = document.getElementById('gift_product_sample_detail');
                    element.src = G_Product_Sample_detail;

                }

                function showGiftTargetAmount(G_Target_amount) {
                    const element = document.getElementById('gift_target_amount');
                    element.textContent = `${G_Target_amount.toLocaleString()}원`;
                }

                function showGiftFundingAchievement(G_funding_achievement) {
                    const element = document.getElementById('gift_funding_achievement');
                    element.textContent = G_funding_achievement.toLocaleString();
                }

                function showGiftFundingProgress(G_funding_progress) {
                    const element = document.getElementById('gift_funding_progress');
                    element.textContent = `${G_funding_progress}%`;
                }

                function showGiftHeadCount(G_head_count) {
                    const element = document.getElementById('gift_head_count');
                    element.textContent = `${G_head_count}명`;
                }

            </script>
    </body>
</html>